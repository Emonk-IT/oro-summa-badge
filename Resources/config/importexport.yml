services:
    # Normalizer
    summa_product_badge.importexport.serializer.product_badge:
        class: 'Oro\Bundle\ImportExportBundle\Serializer\Serializer'
        arguments:
            - [ '@summa_product_badge.importexport.normalizer.product_badge' ]
            - [ '@oro_importexport.serializer.dummy_encoder' ]

    summa_product_badge.importexport.normalizer.product_badge:
        class: 'Summa\Bundle\BadgeBundle\ImportExport\Normalizer\BadgeProductNormalizer'
        parent: oro_importexport.serializer.configurable_entity_normalizer
        calls:
            - [ setBadgeProductClass, [ 'Oro\Bundle\ProductBundle\Entity\Product' ] ]
            - [ setRegistry, [ '@doctrine' ] ]
        tags:
            - { name: oro_importexport.normalizer }

    # Converter
    summa_product_badge.importexport.data_converter:
        class: 'Summa\Bundle\BadgeBundle\ImportExport\DataConverter\BadgeDataConverter'
        parent: oro_importexport.data_converter.configurable

    # Strategy
    summa_product_badge.importexport.product_badge.add_or_replace:
        class: 'Summa\Bundle\BadgeBundle\ImportExport\Strategy\ProductBadgeStrategy'
        public: false
        parent: oro_importexport.strategy.configurable_add_or_replace
#        calls:
#            - [setTranslator, ['@translator']]

    summa_product_badge.importexport.product_badge.reset:
        class: 'Summa\Bundle\BadgeBundle\ImportExport\Strategy\ProductBadgeResetStrategy'
        public: false
        parent: summa_product_badge.importexport.product_badge.add_or_replace

#    oro_pricing.importexport.strategy.price_attribute_product_price.add_or_replace:
#        class: 'Oro\Bundle\PricingBundle\ImportExport\Strategy\PriceAttributeProductPriceImportStrategy'
#        public: false
#        parent: oro_importexport.strategy.configurable_add_or_replace
#
#    summa_product_badge.importexport.strategy.reset:
#        class: 'Summa\Bundle\BadgeBundle\ImportExport\Strategy\ProductBadgeResetStrategy'
#        public: false
#        parent: oro_pricing.importexport.strategy.price_attribute_product_price.add_or_replace
##        parent: summa_product_badge.importexport.strategy.product_price.add_or_replace

    # Template Fixture
    summa_product_badge.importexport.template_fixture:
        class: 'Summa\Bundle\BadgeBundle\ImportExport\TemplateFixture\BadgeProductFixture'
        public: false
        tags:
            - name: oro_importexport.template_fixture

    # Import processor
#    summa_product_badge.importexport.processor.import.summa_product_badge:
#        public: false
#        parent: oro_importexport.processor.import_abstract
#        calls:
#            - [ setDataConverter, [ '@summa_product_badge.importexport.data_converter' ] ]
#            - [ setStrategy, [ '@summa_product_badge.importexport.strategy.product_price.add_or_replace' ] ]
#        tags:
#            - { name: oro_importexport.processor, type: import, entity: 'Oro\Bundle\PricingBundle\Entity\ProductPrice', alias: summa_product_badge.add_or_replace }
#            - { name: oro_importexport.processor, type: import_validation, entity: 'Oro\Bundle\PricingBundle\Entity\ProductPrice', alias: summa_product_badge.add_or_replace }
#
#    summa_product_badge.importexport.processor.import.summa_product_badge.reset:
#        public: false
#        parent: oro_importexport.processor.import_abstract
#        calls:
#            - [ setDataConverter, [ '@summa_product_badge.importexport.data_converter' ] ]
#            - [ setStrategy, [ '@summa_product_badge.importexport.strategy.product_price.add_or_replace' ] ]
#        tags:
#            - { name: oro_importexport.processor, type: import, entity: 'Oro\Bundle\PricingBundle\Entity\ProductPrice', alias: summa_product_badge.reset }
#            - { name: oro_importexport.processor, type: import_validation, entity: 'Oro\Bundle\PricingBundle\Entity\ProductPrice', alias: summa_product_badge.reset }


    summa_product_badge.importexport.processor.import.product_badge:
        parent: oro_importexport.processor.import_abstract
        class: Summa\Bundle\BadgeBundle\ImportExport\Processor\ProductBadgeImportProcessor
        arguments:
            - '@doctrine'
            - '@translator'
            - '@oro_product.related_item.related_product.config_provider'
            - '@oro_importexport.strategy.import.helper'
            - '@oro_security.acl_helper'
        calls:
            - [ setDataConverter, [ '@summa_product_badge.importexport.data_converter' ] ]
            - [ setStrategy, [ '@summa_product_badge.importexport.product_badge.add_or_replace' ] ]
        tags:
            - { name: oro_importexport.processor, type: import, entity: 'Oro\Bundle\ProductBundle\Entity\Product', alias: summa_product_badge.add_or_replace }
            - { name: oro_importexport.processor, type: import_validation, entity: 'Oro\Bundle\ProductBundle\Entity\Product', alias: summa_product_badge.add_or_replace }

    summa_product_badge.importexport.processor.import.product_badge.reset:
        parent: oro_importexport.processor.import_abstract
        class: Summa\Bundle\BadgeBundle\ImportExport\Processor\ProductBadgeImportProcessor
        arguments:
            - '@doctrine'
            - '@translator'
            - '@oro_product.related_item.related_product.config_provider'
            - '@oro_importexport.strategy.import.helper'
            - '@oro_security.acl_helper'
        calls:
            - [ setDataConverter, [ '@summa_product_badge.importexport.data_converter' ] ]
            - [ setStrategy, [ '@summa_product_badge.importexport.product_badge.reset' ] ]
        tags:
            - { name: oro_importexport.processor, type: import, entity: 'Oro\Bundle\ProductBundle\Entity\Product', alias: summa_product_badge.reset }
            - { name: oro_importexport.processor, type: import_validation, entity: 'Oro\Bundle\ProductBundle\Entity\Product', alias: summa_product_badge.reset }



    # Export processor
    # Example:
#    oro_pricing.importexport.processor.export.product_price:
#        public: false
#        parent: oro_importexport.processor.export_abstract
#        calls:
#            - [ setDataConverter, [ '@oro_pricing.importexport.data_converter.product_price' ] ]
#        tags:
#            - { name: oro_importexport.processor, type: export, entity: 'Oro\Bundle\PricingBundle\Entity\ProductPrice', alias: oro_pricing_product_price }

    # Reader
#    oro_pricing.importexport.reader.price_list_product_prices:
#        public: false
#        parent: oro_importexport.reader.entity
#        class: 'Oro\Bundle\PricingBundle\ImportExport\Reader\PriceListProductPricesReader'
#        calls:
#            - [ setShardManager, [ '@oro_pricing.shard_manager' ] ]
#
#    oro_pricing.importexport.reader.price_list_additional_product_prices:
#        public: false
#        class: 'Oro\Bundle\PricingBundle\ImportExport\Reader\PriceListAdditionalProductPriceReader'
#        arguments:
#            - '@oro_importexport.context_registry'
#            - '@doctrine'
#            - '@oro_pricing.shard_manager'

    # Export template
    summa_product_badge.importexport.export_template:
        public: false
        parent: oro_importexport.processor.export_abstract
        calls:
            - [ setDataConverter, [ '@summa_product_badge.importexport.data_converter' ] ]
        tags:
            - name: oro_importexport.processor
              type: export_template
              entity: 'Oro/Bundle/ProductBundle/Entity/Product'
              alias: summa_product_badge

    # Writer

    # Configuration
    summa_product_badge.importexport.configuration_provider:
        class: 'Summa\Bundle\BadgeBundle\ImportExport\Configuration\BadgeProductImportConfigurationProvider'
        arguments:
            - '@translator'
        tags:
            - { name: oro_importexport.configuration, alias: summa_product_badge_entity_import_from_csv }








#
#    summa_badge.importexport.processor.import:
#        parent: oro_importexport.processor.import_abstract
#        calls:
#            - [setDataConverter, ['@summa_badge.importexport.data_converter']]
#            - [setStrategy, ['@summa_badge.importexport.strategy.badge_product']]
#            - [setEntityName, ['Oro\Bundle\ProductBundle\Entity\Product']]
#        tags:
#            - { name: oro_importexport.processor, type: import, entity: 'Summa\Bundle\BadgeBundle\Entity\Badge', alias: summa_badge.add_or_replace }
#            - { name: oro_importexport.processor, type: import_validation, entity: 'Summa\Bundle\BadgeBundle\Entity\Badge', alias: summa_badge.add_or_replace }
#
    #Serializer


    # Template Fixture


    # Export template


#    summa_product_badge.importexport.writer.product_badge.entity:
#        class: 'Summa\Bundle\BadgeBundle\ImportExport\Writer\BadgeProductEntityWriter'
#        arguments:
#            - '@oro_entity.doctrine_helper'
#            - '@oro_importexport.writer.entity_detach_fixer'
#            - '@oro_importexport.context_registry'
#        tags:
#            - { name: oro_importexport.writer, alias: badge_product_entity }
#
#    summa_badge.importexport.normalizer.badge_product_template:
#        class: 'Summa\Bundle\BadgeBundle\ImportExport\Normalizer\BadgeProductNormalizer'
#        parent: oro_importexport.serializer.configurable_entity_normalizer
#        calls:
#            - [setBadgeProductClass, ['Summa\Bundle\BadgeBundle\Entity\BadgeProduct']]
#            - [setContainer, ['@service_container']]
#        tags:
#            - { name: oro_importexport.normalizer }
#






#ejemplo product price import
#    # Normalizer
#    oro_pricing.importexport.normalizer.product_price:
#        class: 'Oro\Bundle\PricingBundle\ImportExport\Normalizer\ProductPriceNormalizer'
#        public: false
#        parent: oro_importexport.serializer.configurable_entity_normalizer
#        tags:
#            - { name: oro_importexport.normalizer }
#
#    # Converter
#    oro_pricing.importexport.data_converter.product_price:
#        public: false
#        parent: oro_importexport.data_converter.configurable
#        class: 'Oro\Bundle\PricingBundle\ImportExport\DataConverter\ProductPriceDataConverter'
#
#    # Strategy
#    oro_pricing.importexport.strategy.product_price.add_or_replace:
#        class: 'Oro\Bundle\PricingBundle\ImportExport\Strategy\ProductPriceImportStrategy'
#        public: false
#        parent: oro_importexport.strategy.configurable_add_or_replace
#        calls:
#            - [setTranslator, ['@translator']]
#
#    oro_pricing.importexport.strategy.product_price.reset:
#        class: 'Oro\Bundle\PricingBundle\ImportExport\Strategy\ProductPriceResetStrategy'
#        public: false
#        parent: oro_pricing.importexport.strategy.product_price.add_or_replace
#
#    # Template Fixture
#    oro_pricing.importexport.template_fixture.product_price:
#        class: 'Oro\Bundle\PricingBundle\ImportExport\TemplateFixture\PriceListFixture'
#        public: false
#        tags:
#            - { name: oro_importexport.template_fixture }
#
#    # Import processor
#    oro_pricing.importexport.processor.import.product_price:
#        public: false
#        parent: oro_importexport.processor.import_abstract
#        calls:
#            - [setDataConverter, ['@oro_pricing.importexport.data_converter.product_price']]
#            - [setStrategy, ['@oro_pricing.importexport.strategy.product_price.add_or_replace']]
#        tags:
#            - { name: oro_importexport.processor, type: import, entity: 'Oro\Bundle\PricingBundle\Entity\ProductPrice', alias: oro_pricing_product_price.add_or_replace }
#            - { name: oro_importexport.processor, type: import_validation, entity: 'Oro\Bundle\PricingBundle\Entity\ProductPrice', alias: oro_pricing_product_price.add_or_replace }
#
#    oro_pricing.importexport.processor.import.product_price.reset:
#        public: false
#        parent: oro_importexport.processor.import_abstract
#        calls:
#            - [setDataConverter, ['@oro_pricing.importexport.data_converter.product_price']]
#            - [setStrategy, ['@oro_pricing.importexport.strategy.product_price.reset']]
#        tags:
#            - { name: oro_importexport.processor, type: import, entity: 'Oro\Bundle\PricingBundle\Entity\ProductPrice', alias: oro_pricing_product_price.reset }
#            - { name: oro_importexport.processor, type: import_validation, entity: 'Oro\Bundle\PricingBundle\Entity\ProductPrice', alias: oro_pricing_product_price.reset }
#
#    # Export processor
#    oro_pricing.importexport.processor.export.product_price:
#        public: false
#        parent: oro_importexport.processor.export_abstract
#        calls:
#            - [setDataConverter, ['@oro_pricing.importexport.data_converter.product_price']]
#        tags:
#            - { name: oro_importexport.processor, type: export, entity: 'Oro\Bundle\PricingBundle\Entity\ProductPrice', alias: oro_pricing_product_price }
#
#    # Reader
#    oro_pricing.importexport.reader.price_list_product_prices:
#        public: false
#        parent: oro_importexport.reader.entity
#        class: 'Oro\Bundle\PricingBundle\ImportExport\Reader\PriceListProductPricesReader'
#        calls:
#            - [setShardManager, ['@oro_pricing.shard_manager']]
#
#    oro_pricing.importexport.reader.price_list_additional_product_prices:
#        public: false
#        class: 'Oro\Bundle\PricingBundle\ImportExport\Reader\PriceListAdditionalProductPriceReader'
#        arguments:
#            - '@oro_importexport.context_registry'
#            - '@doctrine'
#            - '@oro_pricing.shard_manager'
#
#    # Export template
#    oro_pricing.importexport.processor.export_template.product_price:
#        public: false
#        parent: oro_importexport.processor.export_abstract
#        calls:
#            - [setDataConverter, ['@oro_pricing.importexport.data_converter.product_price']]
#        tags:
#            - { name: oro_importexport.processor, type: export_template, entity: 'Oro\Bundle\PricingBundle\Entity\ProductPrice', alias: oro_pricing_product_price }
#
#    # Writer
#    oro_pricing.importexport.writer.product_price:
#        class: 'Oro\Bundle\PricingBundle\ImportExport\Writer\ProductPriceWriter'
#        public: false
#        parent: oro_integration.writer.persistent_batch_writer
#        arguments:
#            - '@oro_pricing.manager.price_manager'
#            - '@oro_platform.optional_listeners.manager'
#        calls:
#            - [disableListener, ['oro_pricing.entity_listener.product_price_cpl']]
#            - [disableListener, ['oro_pricing.entity_listener.price_list_to_product']]
#            - [disableListener, ['oro_website.indexation_request_listener']]
#
#    oro_pricing.importexport.configuration_provider.price_attribute_product_price:
#        class: 'Oro\Bundle\PricingBundle\ImportExport\Configuration\PriceAttributeProductPriceImportExportConfigurationProvider'
#        arguments:
#            - '@translator'
#        tags:
#            - { name: oro_importexport.configuration, alias: oro_product_index }
#
#    oro_pricing.importexport.configuration_provider.product_price:
#        class: 'Oro\Bundle\PricingBundle\ImportExport\Configuration\ProductPriceImportExportConfigurationProvider'
#        arguments:
#            - '@translator'
#        tags:
#            - { name: oro_importexport.configuration, alias: oro_product_price }
#
#    oro_pricing.importexport.data_converter.price_attribute_product_price:
#        class: 'Oro\Bundle\PricingBundle\ImportExport\DataConverter\PriceAttributeProductPriceDataConverter'
#        public: false
#        parent: oro_importexport.data_converter.configurable
#
#    oro_pricing.importexport.normalizer.price_attribute_product_price:
#        class: 'Oro\Bundle\PricingBundle\ImportExport\Normalizer\PriceAttributeProductPriceNormalizer'
#        public: false
#        parent: oro_importexport.serializer.configurable_entity_normalizer
#        tags:
#            - { name: oro_importexport.normalizer }
#
#    oro_pricing.importexport.template_fixture.price_attribute_product_price:
#        class: 'Oro\Bundle\PricingBundle\ImportExport\TemplateFixture\PriceAttributeProductPriceFixture'
#        public: false
#        tags:
#            - { name: oro_importexport.template_fixture }
#
#    oro_pricing.importexport.processor.export.price_attribute_product_price:
#        public: false
#        parent: oro_importexport.processor.export_abstract
#        calls:
#            - [setDataConverter, ['@oro_pricing.importexport.data_converter.price_attribute_product_price']]
#        tags:
#            - { name: oro_importexport.processor, type: export, entity: 'Oro\Bundle\PricingBundle\Entity\PriceAttributeProductPrice', alias: oro_pricing_product_price_attribute_price }
#
#    oro_pricing.importexport.processor.export_template.price_attribute_product_price:
#        public: false
#        parent: oro_importexport.processor.export_abstract
#        calls:
#            - [setDataConverter, ['@oro_pricing.importexport.data_converter.price_attribute_product_price']]
#        tags:
#            - { name: oro_importexport.processor, type: export_template, entity: 'Oro\Bundle\PricingBundle\Entity\PriceAttributeProductPrice', alias: oro_pricing_product_price_attribute_price }
#
#    oro_pricing.importexport.strategy.price_attribute_product_price.add_or_replace:
#        class: 'Oro\Bundle\PricingBundle\ImportExport\Strategy\PriceAttributeProductPriceImportStrategy'
#        public: false
#        parent: oro_importexport.strategy.configurable_add_or_replace
#
#    oro_pricing.importexport.strategy.price_attribute_product_price.reset:
#        class: 'Oro\Bundle\PricingBundle\ImportExport\Strategy\PriceAttributeProductPriceImportResetStrategy'
#        public: false
#        parent: oro_pricing.importexport.strategy.price_attribute_product_price.add_or_replace
#
#    oro_pricing.importexport.processor.import.price_attribute_product_price:
#        public: false
#        parent: oro_importexport.processor.import_abstract
#        calls:
#            - [setStrategy, ['@oro_pricing.importexport.strategy.price_attribute_product_price.add_or_replace']]
#            - [setDataConverter, ['@oro_pricing.importexport.data_converter.price_attribute_product_price']]
#        tags:
#            - { name: oro_importexport.processor, type: import, entity: 'Oro\Bundle\PricingBundle\Entity\PriceAttributeProductPrice', alias: oro_pricing_product_price_attribute_price.add_or_replace }
#            - { name: oro_importexport.processor, type: import_validation, entity: 'Oro\Bundle\PricingBundle\Entity\PriceAttributeProductPrice', alias: oro_pricing_product_price_attribute_price.add_or_replace }
#
#    oro_pricing.importexport.processor.import.price_attribute_product_price.reset:
#        public: false
#        parent: oro_importexport.processor.import_abstract
#        calls:
#            - [setStrategy, ['@oro_pricing.importexport.strategy.price_attribute_product_price.reset']]
#            - [setDataConverter, ['@oro_pricing.importexport.data_converter.price_attribute_product_price']]
#        tags:
#            - { name: oro_importexport.processor, type: import, entity: 'Oro\Bundle\PricingBundle\Entity\PriceAttributeProductPrice', alias: oro_pricing_product_price_attribute_price.reset }
#            - { name: oro_importexport.processor, type: import_validation, entity: 'Oro\Bundle\PricingBundle\Entity\PriceAttributeProductPrice', alias: oro_pricing_product_price_attribute_price.reset }
#
#    oro_pricing.importexport.writer.price_attribute_product_price:
#        class: 'Oro\Bundle\PricingBundle\ImportExport\Writer\PriceAttributeProductPriceWriter'
#        public: false
#        parent: oro_integration.writer.persistent_batch_writer
#
#    oro_pricing.importexport.listener.before_import_chunks:
#        class: Oro\Bundle\PricingBundle\ImportExport\EventListener\BeforeImportChunksListener
#        arguments:
#            - '@doctrine'
#            - '@oro_pricing.shard_manager'
#        public: false
#        tags:
#            - { name: kernel.event_listener, event: oro.import_export.before_import_chunks, method: onBeforeImportChunks }